!function(a){"use strict";var b={decelerate:!0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},c="kinetic-settings";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()),a.support=a.support||{},a.extend(a.support,{touch:"ontouchend"in document});var d=function(a,b){return 0===Math.floor(Math.abs(a))?0:a*b},e=function(a,b){var c=a;return a>0?a>b&&(c=b):0-b>a&&(c=0-b),c},f=function(a,b){this.removeClass(a.movingClass.up).removeClass(a.movingClass.down).removeClass(a.movingClass.left).removeClass(a.movingClass.right).removeClass(a.deceleratingClass.up).removeClass(a.deceleratingClass.down).removeClass(a.deceleratingClass.left).removeClass(a.deceleratingClass.right),a.velocity>0&&this.addClass(b.right),a.velocity<0&&this.addClass(b.left),a.velocityY>0&&this.addClass(b.down),a.velocityY<0&&this.addClass(b.up)},g=function(a,b){"function"==typeof b.stopped&&b.stopped.call(a,b)},h=function(a,b){var c=a[0];b.x&&c.scrollWidth>0&&(c.scrollLeft=b.scrollLeft=c.scrollLeft+b.velocity,Math.abs(b.velocity)>0&&(b.velocity=b.decelerate?d(b.velocity,b.slowdown):b.velocity)),b.y&&c.scrollHeight>0&&(c.scrollTop=b.scrollTop=c.scrollTop+b.velocityY,Math.abs(b.velocityY)>0&&(b.velocityY=b.decelerate?d(b.velocityY,b.slowdown):b.velocityY)),f.call(a,b,b.deceleratingClass),"function"==typeof b.moved&&b.moved.call(a,b),Math.abs(b.velocity)>0||Math.abs(b.velocityY)>0?window.requestAnimationFrame(function(){h(a,b)}):g(a,b)},i=function(b){var d=a.kinetic.callMethods[b],e=Array.prototype.slice.call(arguments);d&&this.each(function(){var b=e.slice(1),f=a(this).data(c);b.unshift(f),d.apply(this,b)})},j=function(d){this.addClass("kinetic-active").attr("tabindex","0").each(function(){var g,i,j,k,l=a.extend({},b,d),m=a(this),n=!1,o=!1,p=!1,q=1e3/l.throttleFPS;l.velocity=0,l.velocityY=0,m.bind("selectstart",function(){return!1});var r=function(){g=!1,i=!1,p=!1};a(document).mouseup(r).click(r);var s=function(){l.velocity=e(n-g,l.maxvelocity),l.velocityY=e(o-i,l.maxvelocity)},t=function(a,b){p=!0,l.velocity=n=0,l.velocityY=o=0,g=a,i=b},u=function(){void 0!==g&&void 0!==n&&l.decelerate===!1&&(l.decelerate=!0,s(),g=n=p=!1,h(m,l))},v=function(b,c){(!j||new Date>new Date(j.getTime()+q))&&(j=new Date,p&&(g||i)&&(k&&(a(k).blur(),k=null,m.focus()),l.decelerate=!1,l.velocity=l.velocityY=0,m[0].scrollLeft=l.scrollLeft=l.x?m[0].scrollLeft-(b-g):m[0].scrollLeft,m[0].scrollTop=l.scrollTop=l.y?m[0].scrollTop-(c-i):m[0].scrollTop,n=g,o=i,g=b,i=c,s(),f.call(m,l,l.movingClass),"function"==typeof l.moved&&l.moved.call(m,l)))};a.support.touch?(this.addEventListener("touchstart",function(a){t(a.touches[0].clientX,a.touches[0].clientY)},!1),this.addEventListener("touchend",function(a){a.preventDefault&&a.preventDefault(),u()},!1),this.addEventListener("touchmove",function(a){a.preventDefault&&a.preventDefault(),v(a.touches[0].clientX,a.touches[0].clientY)},!1)):m.mousedown(function(a){t(a.clientX,a.clientY),k=a.target,a.preventDefault()}).mouseup(function(){u(),k=null}).mouseleave(function(){u()}).mousemove(function(a){v(a.clientX,a.clientY),a.preventDefault()}).css("cursor","move"),m.click(function(a){return Math.abs(l.velocity)>0?(a.preventDefault(),!1):void 0}),m.data(c,l)})};a.kinetic={settingsKey:c,callMethods:{start:function(b,c){var d=a(this);b=a.extend(b,c),b&&(b.decelerate=!1,h(d,b))},end:function(b){a(this);b&&(b.decelerate=!0)}}},a.fn.kinetic=function(a){return"string"==typeof a?i.apply(this,arguments):j.call(this,a),this}}(window.jQuery||window.Zepto);