function tzSortFilter(a,b,c){c&&"auto"!=c||!a.last().attr("data-order")||!a.last().data("order").toString().length||(c="filter_asc"),a.sort(function(a,b){var d=jQuery(a).data("order")?parseInt(jQuery(a).data("order")):jQuery(a).text().trim(),e=jQuery(b).data("order")?parseInt(jQuery(b).data("order")):jQuery(b).text().trim();if("*"!=jQuery(a).attr("data-option-value")&&"*"!=jQuery(b).attr("data-option-value")){if("asc"==c.substr(c.length-3,c.length).toLowerCase())return e>d?-1:d>e?1:0;if("desc"==c.substr(c.length-4,c.length).toLowerCase())return d>e?-1:e>d?1:0}}),a.each(function(a,c){b.append(c).append("\n")})}function ajaxComments(a,b,c,d){if(a.length&&a.find(".name a").length){var e="index.php?option=com_tz_portfolio&task=portfolio.ajaxcomments",f=Array(),g=Array();d&&(e=d),a.map(function(a,b){jQuery(b).find(".name a").length&&jQuery(b).find(".name a").attr("href").length&&(f.push(jQuery(b).find(".name a").attr("href")),jQuery(b).attr("id")&&g.push(jQuery(b).attr("id")))}),jQuery.ajax({type:"post",url:e,data:{Itemid:b,url:Base64.encode(JSON.encode(f)),id:Base64.encode(JSON.encode(g))}}).success(function(a){if(a&&a.length){var b=JSON.decode(a);"object"==typeof b&&jQuery.each(b,function(a,b){jQuery("#"+a).find(".TzPortfolioCommentCount").length&&jQuery("#"+a).find(".TzPortfolioCommentCount").html(c+"<span>"+b+"</span>")})}})}}